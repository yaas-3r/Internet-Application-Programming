<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Secure Login System</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="auth-container">
    <div class="auth-toggle">
      <button id="showLogin" class="active">Log In</button>
      <button id="showSignup">Sign Up</button>
    </div>

    <!-- LOGIN FORM -->
    <form id="loginForm" class="auth-form">
      <h2>Log In</h2>
      <input type="email" id="loginEmail" placeholder="Email" required>
      <input type="password" id="loginPassword" placeholder="Password" required>
      <button type="submit">Send OTP</button>
    </form>

    <!-- SIGNUP FORM -->
    <form id="signupForm" class="auth-form hidden">
      <h2>Sign Up</h2>
      <input type="email" id="signupEmail" placeholder="Email" required>
      <input type="password" id="signupPassword" placeholder="Password" required>
      <button type="submit">Register</button>
    </form>

    <!-- OTP FORM -->
    <form id="otpForm" class="auth-form hidden">
      <h2>Enter OTP</h2>
      <input type="text" id="otpInput" placeholder="Enter OTP" required>
      <button type="submit">Verify OTP</button>
    </form>

    <!-- USERS LIST -->
    <div id="usersPage" class="hidden">
      <h2>Available Users</h2>
      <ul id="usersList"></ul>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>













<script>
    const showLoginBtn = document.getElementById("showLogin");
const showSignupBtn = document.getElementById("showSignup");
const loginForm = document.getElementById("loginForm");
const signupForm = document.getElementById("signupForm");
const otpForm = document.getElementById("otpForm");
const usersPage = document.getElementById("usersPage");

let currentEmail = "";

// Toggle between Login and Signup
showLoginBtn.addEventListener("click", () => {
  showLoginBtn.classList.add("active");
  showSignupBtn.classList.remove("active");
  loginForm.classList.remove("hidden");
  signupForm.classList.add("hidden");
});

showSignupBtn.addEventListener("click", () => {
  showSignupBtn.classList.add("active");
  showLoginBtn.classList.remove("active");
  signupForm.classList.remove("hidden");
  loginForm.classList.add("hidden");
});

// Handle Signup
signupForm.addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("signupEmail").value;
  const password = document.getElementById("signupPassword").value;

  const res = await fetch("http://localhost:3000/signup", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, password })
  });

  const data = await res.json();
  alert(data.message);
});

// Handle Login (Send OTP)
loginForm.addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("loginEmail").value;
  const password = document.getElementById("loginPassword").value;

  const res = await fetch("http://localhost:3000/auth", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email, password })
  });

  const data = await res.json();
  alert(data.message);

  if (res.ok) {
    currentEmail = email;
    loginForm.classList.add("hidden");
    otpForm.classList.remove("hidden");
  }
});

// Handle OTP Verification
otpForm.addEventListener("submit", async (e) => {
  e.preventDefault();
  const otp = document.getElementById("otpInput").value;

  const res = await fetch("http://localhost:3000/verify-otp", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ email: currentEmail, otp })
  });

  const data = await res.json();
  alert(data.message);

  if (res.ok) {
    otpForm.classList.add("hidden");
    usersPage.classList.remove("hidden");

   
  }
});

</script>